# Repository Structure

```
lead-enrichment/
├── README.md                          # Main documentation
├── QUICKSTART.md                      # 5-minute setup guide
├── FLOW_DIAGRAM.md                    # Visual pipeline diagram
├── STRUCTURE.md                       # This file
├── setup.sh                           # Automated setup script
├── .env.example                       # Environment template
├── .gitignore                         # Git ignore rules
│
├── src/                               # Source code
│   ├── __init__.py
│   ├── main.py                        # Main orchestration script
│   │
│   ├── enrichers/                     # Enrichment APIs
│   │   ├── __init__.py
│   │   ├── apollo.py                  # Apollo.io enrichment
│   │   ├── school.py                  # School matching + NCES
│   │   └── property.py                # Census property data
│   │
│   ├── utils/                         # Helper utilities
│   │   ├── __init__.py
│   │   ├── data_merge.py              # Merge new + old datasets
│   │   ├── checkpoint.py              # Checkpoint management
│   │   └── name_parser.py             # Name extraction
│   │
│   └── analysis/                      # Analysis tools
│       ├── __init__.py
│       └── analyze_enrichment.py      # Success analysis
│
├── config/                            # Configuration
│   ├── __init__.py
│   └── column_mappings.py             # CSV column definitions
│
├── data/                              # Data files
│   ├── README.md                      # Data file documentation
│   ├── .gitkeep                       # Keep directory in git
│   │
│   ├── *.csv.example                  # Example input files
│   │   ├── leads_positive.csv.example
│   │   ├── leads_positive_old.csv.example
│   │   ├── leads_negative.csv.example
│   │   ├── leads_negative_old.csv.example
│   │   ├── nces_schools.csv.example
│   │   └── school_tuition_mapping.csv.example
│   │
│   ├── leads_positive.csv             # Working positive leads (you provide)
│   ├── leads_positive_old.csv         # Historical positive leads (you provide)
│   ├── leads_negative.csv             # Working negative leads (you provide)
│   ├── leads_negative_old.csv         # Historical negative leads (you provide)
│   ├── nces_schools.csv               # Optional: NCES database (you provide)
│   ├── school_tuition_mapping.csv     # Optional: Tuition data (you provide)
│   │
│   ├── leads_positive_checkpoint.csv  # Auto-generated by enrichment
│   └── leads_negative_checkpoint.csv  # Auto-generated by enrichment
│
└── tests/                             # Test directory
    └── .gitkeep
```

## Key Files

### Entry Points
- **main.py** - Run full enrichment pipeline
- **analyze_enrichment.py** - Analyze enrichment results

### Core Modules
- **apollo.py** (185 lines) - Apollo.io bulk enrichment API
- **school.py** (425 lines) - School matching with 3-tier strategy
- **property.py** (105 lines) - Census Bureau property values

### Configuration
- **column_mappings.py** - Maps CSV columns to internal fields
- **.env** - API keys and configuration (create from .env.example)

### Documentation
- **README.md** - Complete setup and usage guide
- **QUICKSTART.md** - Fast setup for testing
- **FLOW_DIAGRAM.md** - Visual pipeline flow
- **data/README.md** - CSV file format specifications

## File Counts

| Category | Count |
|----------|-------|
| Python files | 14 |
| Documentation | 5 |
| Example CSVs | 6 |
| Config files | 4 |
| **Total** | **29** |

## Code Statistics

| Module | Lines | Purpose |
|--------|-------|---------|
| apollo.py | 185 | Apollo API integration |
| school.py | 425 | School matching logic |
| property.py | 105 | Property value enrichment |
| main.py | 280 | Pipeline orchestration |
| analyze_enrichment.py | 165 | Results analysis |
| checkpoint.py | 48 | Checkpoint management |
| data_merge.py | 42 | Dataset merging |
| name_parser.py | 32 | Name parsing |
| column_mappings.py | 24 | Column definitions |

## Dependencies

**Python Packages:**
- pandas
- numpy
- requests
- fuzzywuzzy
- python-Levenshtein
- python-dotenv

**External Services:**
- Apollo.io API
- Census Bureau API  
- School Matcher API (localhost:4000)

## Data Flow

```
Input CSVs → Merge → Checkpoint Load → Batch Process → Enrichment → Checkpoint Save → Output CSVs
                                            ↓
                                    Apollo → School → Property
```
